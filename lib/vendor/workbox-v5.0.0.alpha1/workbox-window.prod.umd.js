!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n=n||self).workbox={})}(this,function(n){"use strict";try{self["workbox:window:5.0.0-alpha.0"]&&_()}catch(n){}function t(n,t){return new Promise(function(e){var i=new MessageChannel;i.port1.onmessage=function(n){e(n.data)},n.postMessage(t,[i.port2])})}function e(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}try{self["workbox:core:5.0.0-alpha.1"]&&_()}catch(n){}var i=function(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})};function r(n,t){var e=location.href;return new URL(n,e).href===new URL(t,e).href}var o=function(n,t){this.type=n,Object.assign(this,t)};function a(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(n){return Promise.reject(n)}}}function u(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}function c(){}var f=200,s=6e4,v=function(n){var v,h;function l(t,e){var a;return void 0===e&&(e={}),(a=n.call(this)||this).t={},a.i=0,a.o=new i,a.u=new i,a.s=new i,a.v=0,a.h=function(){var n=a.l,t=n.installing;a.i>0||!r(t.scriptURL,a.g)||performance.now()>a.v+s?(a.m=t,n.removeEventListener("updatefound",a.h)):(a.p=t,a.o.resolve(t)),++a.i,t.addEventListener("statechange",a.P)},a.P=function(n){var t=a.l,e=n.target,i=e.state,r=e===a.m,u=r?"external":"",c={sw:e,originalEvent:n};!r&&a.k&&(c.isUpdate=!0),a.dispatchEvent(new o(u+i,c)),"installed"===i?a.j=self.setTimeout(function(){"installed"===i&&t.waiting===e&&a.dispatchEvent(new o(u+"waiting",c))},f):"activating"===i&&(clearTimeout(a.j),r||a.u.resolve(e))},a.O=function(n){var t=a.p;t===navigator.serviceWorker.controller&&(a.dispatchEvent(new o("controlling",{sw:t,originalEvent:n,isUpdate:a.k})),a.s.resolve(t))},a._=function(n){var t=n.data;a.dispatchEvent(new o("message",{data:t,originalEvent:n}))},a.g=t,a.t=e,a}h=n,(v=l).prototype=Object.create(h.prototype),v.prototype.constructor=v,v.__proto__=h;var d,w,g,m=l.prototype;return m.register=a(function(n){var t,e,i=this,a=(void 0===n?{}:n).immediate,f=void 0!==a&&a;return t=function(){return i.k=Boolean(navigator.serviceWorker.controller),i.B=i.R(),u(i.C(),function(n){i.l=n,i.B&&(i.p=i.B,i.u.resolve(i.B),i.s.resolve(i.B),i.L(i.B),i.B.addEventListener("statechange",i.P,{once:!0}));var t=i.l.waiting;return t&&r(t.scriptURL,i.g)&&(i.p=t,Promise.resolve().then(function(){i.dispatchEvent(new o("waiting",{sw:t,wasWaitingBeforeRegister:!0}))})),i.p&&i.o.resolve(i.p),i.l.addEventListener("updatefound",i.h),navigator.serviceWorker.addEventListener("controllerchange",i.O,{once:!0}),"BroadcastChannel"in self&&(i.U=new BroadcastChannel("workbox"),i.U.addEventListener("message",i._)),navigator.serviceWorker.addEventListener("message",i._),i.l})},(e=function(){if(!f&&"complete"!==document.readyState)return function(n,t){if(!t)return n&&n.then?n.then(c):Promise.resolve()}(new Promise(function(n){return addEventListener("load",n)}))}())&&e.then?e.then(t):t(e)}),m.getSW=a(function(){return void 0!==this.p?this.p:this.o.promise}),m.messageSW=a(function(n){return u(this.getSW(),function(e){return t(e,n)})}),m.R=function(){var n=navigator.serviceWorker.controller;return n&&r(n.scriptURL,this.g)?n:void 0},m.C=a(function(){var n=this;return function(n,t){try{var e=n()}catch(n){return t(n)}return e&&e.then?e.then(void 0,t):e}(function(){return u(navigator.serviceWorker.register(n.g,n.t),function(t){return n.v=performance.now(),t})},function(n){throw n})}),m.L=function(n){t(n,{type:"WINDOW_READY",meta:"workbox-window"})},d=l,(w=[{key:"active",get:function(){return this.u.promise}},{key:"controlling",get:function(){return this.s.promise}}])&&e(d.prototype,w),g&&e(d,g),l}(function(){function n(){this.W={}}var t=n.prototype;return t.addEventListener=function(n,t){this.A(n).add(t)},t.removeEventListener=function(n,t){this.A(n).delete(t)},t.dispatchEvent=function(n){n.target=this;var t=this.A(n.type),e=Array.isArray(t),i=0;for(t=e?t:t[Symbol.iterator]();;){var r;if(e){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}r(n)}},t.A=function(n){return this.W[n]=this.W[n]||new Set},n}());n.Workbox=v,n.messageSW=t,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=workbox-window.prod.umd.js.map
