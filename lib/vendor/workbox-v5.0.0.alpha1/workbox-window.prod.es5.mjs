try{self["workbox:window:5.0.0-alpha.0"]&&_()}catch(n){}function n(n,t){return new Promise(function(r){var e=new MessageChannel;e.port1.onmessage=function(n){r(n.data)},n.postMessage(t,[e.port2])})}function t(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}try{self["workbox:core:5.0.0-alpha.1"]&&_()}catch(n){}var r=function(){var n=this;this.promise=new Promise(function(t,r){n.resolve=t,n.reject=r})};function e(n,t){var r=location.href;return new URL(n,r).href===new URL(t,r).href}var i=function(n,t){this.type=n,Object.assign(this,t)};function o(n){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(n.apply(this,t))}catch(n){return Promise.reject(n)}}}function a(n,t,r){return r?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}function u(){}var c=200,f=6e4,s=function(s){var v,h;function l(n,t){var o;return void 0===t&&(t={}),(o=s.call(this)||this).t={},o.i=0,o.o=new r,o.u=new r,o.s=new r,o.v=0,o.h=function(){var n=o.l,t=n.installing;o.i>0||!e(t.scriptURL,o.g)||performance.now()>o.v+f?(o.m=t,n.removeEventListener("updatefound",o.h)):(o.p=t,o.o.resolve(t)),++o.i,t.addEventListener("statechange",o.P)},o.P=function(n){var t=o.l,r=n.target,e=r.state,a=r===o.m,u=a?"external":"",f={sw:r,originalEvent:n};!a&&o.k&&(f.isUpdate=!0),o.dispatchEvent(new i(u+e,f)),"installed"===e?o.B=self.setTimeout(function(){"installed"===e&&t.waiting===r&&o.dispatchEvent(new i(u+"waiting",f))},c):"activating"===e&&(clearTimeout(o.B),a||o.u.resolve(r))},o.O=function(n){var t=o.p;t===navigator.serviceWorker.controller&&(o.dispatchEvent(new i("controlling",{sw:t,originalEvent:n,isUpdate:o.k})),o.s.resolve(t))},o.R=function(n){var t=n.data;o.dispatchEvent(new i("message",{data:t,originalEvent:n}))},o.g=n,o.t=t,o}h=s,(v=l).prototype=Object.create(h.prototype),v.prototype.constructor=v,v.__proto__=h;var w,g,d,m=l.prototype;return m.register=o(function(n){var t,r,o=this,c=(void 0===n?{}:n).immediate,f=void 0!==c&&c;return t=function(){return o.k=Boolean(navigator.serviceWorker.controller),o.j=o.C(),a(o.L(),function(n){o.l=n,o.j&&(o.p=o.j,o.u.resolve(o.j),o.s.resolve(o.j),o.U(o.j),o.j.addEventListener("statechange",o.P,{once:!0}));var t=o.l.waiting;return t&&e(t.scriptURL,o.g)&&(o.p=t,Promise.resolve().then(function(){o.dispatchEvent(new i("waiting",{sw:t,wasWaitingBeforeRegister:!0}))})),o.p&&o.o.resolve(o.p),o.l.addEventListener("updatefound",o.h),navigator.serviceWorker.addEventListener("controllerchange",o.O,{once:!0}),"BroadcastChannel"in self&&(o.W=new BroadcastChannel("workbox"),o.W.addEventListener("message",o.R)),navigator.serviceWorker.addEventListener("message",o.R),o.l})},(r=function(){if(!f&&"complete"!==document.readyState)return function(n,t){if(!t)return n&&n.then?n.then(u):Promise.resolve()}(new Promise(function(n){return addEventListener("load",n)}))}())&&r.then?r.then(t):t(r)}),m.getSW=o(function(){return void 0!==this.p?this.p:this.o.promise}),m.messageSW=o(function(t){return a(this.getSW(),function(r){return n(r,t)})}),m.C=function(){var n=navigator.serviceWorker.controller;return n&&e(n.scriptURL,this.g)?n:void 0},m.L=o(function(){var n=this;return function(n,t){try{var r=n()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}(function(){return a(navigator.serviceWorker.register(n.g,n.t),function(t){return n.v=performance.now(),t})},function(n){throw n})}),m.U=function(t){n(t,{type:"WINDOW_READY",meta:"workbox-window"})},w=l,(g=[{key:"active",get:function(){return this.u.promise}},{key:"controlling",get:function(){return this.s.promise}}])&&t(w.prototype,g),d&&t(w,d),l}(function(){function n(){this._={}}var t=n.prototype;return t.addEventListener=function(n,t){this.A(n).add(t)},t.removeEventListener=function(n,t){this.A(n).delete(t)},t.dispatchEvent=function(n){n.target=this;var t=this.A(n.type),r=Array.isArray(t),e=0;for(t=r?t:t[Symbol.iterator]();;){var i;if(r){if(e>=t.length)break;i=t[e++]}else{if((e=t.next()).done)break;i=e.value}i(n)}},t.A=function(n){return this._[n]=this._[n]||new Set},n}());export{s as Workbox,n as messageSW};
//# sourceMappingURL=workbox-window.prod.es5.mjs.map
